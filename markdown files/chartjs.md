# Документация по Chart.JS

Официальный сайт [https://www.chartjs.org/](https://www.chartjs.org/)

## Введение

## Теория

### Инициализация

HTML:
```html
<canvas id="popChart" width="600" height="400"></canvas>
```

Javascript:

```javascript
var popCanvas = document.getElementById('popChart');

var lineChart = new Chart(speedCanvas, { // инициализация Chart
    type: 'line', // тип диаграммы
    data: speedData, // объект с данными
    options: chartOptions // объект с опциями
});

var speedData = {
  labels: ["0s", "10s", "20s", "30s", "40s", "50s", "60s"], // подпись по оси X 
  datasets: [{
    label: "Car Speed", // заголовок диаграммы
    data: [0, 59, 75, 20, 20, 55, 40], // координаты точек по оси Y
  }]
};
 
var chartOptions = {
  legend: {
    display: true, // управление отображением легенды диаграммы
    position: 'top', // позиция легенды
    labels: {
      boxWidth: 80, // ширина легенды диаграммы в px
      fontColor: 'black' // цвет текста в легенде диаграммы
    }
  }
};

```

#### Несколько графиков на одной диаграмме

```javascript
var chart1 = { /* данные первого графика */}
var chart2 = { /* данные второго графика */}

var speedData = {
  datasets: [chart1, chart2] // передаем объекты с данными графиков в данные диаграммы
}
```

### Общие настройки для разных типов диаграм

```javascript
var speedData = {
  labels: ["0s", "10s", "20s", "30s", "40s", "50s", "60s"],
  datasets: [chart1, chart2]
}

var chartOptions = {
  legend: {
    display: true,
    position: 'bottom',
    labels: {
      boxWidth: 80,
      fontColor: 'orange'
    }
  }
}

var lineChart = new Chart(popCanvas, {
  type: 'line',
  data: speedData,
  options: chartOptions
});
```

##### Заливка области

Можно указывать градиентную заливку области, вот так:

```javascript
backgroundColor: [
    'rgba(0, 99, 132, 0.6)',
    'rgba(30, 99, 132, 0.6)',
    'rgba(240, 99, 132, 0.6)'
  ],
```

### Линейная диаграмма

#### Инициализация
При инициализации `Chart` с помощью `new`:

```javascript
var lineChart = new Chart(popCanvas, {
  type: 'line', // тип line инициализирует линейную диаграмму
});
```

#### Настройки в объекте с данными графика

```javascript
var chart1 = { /* настройки */ }
```

* `label: 'Car'` - заголовок графика
* `data: [0, 59, 75, 20, 20, 55, 40]` - координаты точек на графике по оси Y
* `backgroundColor: 'transparent'` - определяет цвет заливки области под кривой, значение по-умолчанию `rgba(0,0,0,0.1)`
* `fill: false` - устанавливает `true` (значение по-умолчанию) или отменяет `false` заполнение цветом области под кривой 

##### Кривая Безье (Линия графика, соединяющая точки)

* `lineTension: 0.5` - определяет упругость линии
* `borderColor: 'red'` - цвет линии
* `borderWidth: 2` - ширина линии
* `borderDash: [5, 10]` - свойство превращает сплошную линию в пунктирную, принимает массив с двумя значениями, где первое - длинна пунктира, а второе - длинна отступов между пунктирами

##### Точки на графике

* `pointStyle: 'rect'` - определяет фигуру точки (и рамки вокруг нее), значение по-умолчанию `circle`
* `pointBorderColor: 'yellow'` - цвет рамки вокруг точки
* `pointBackgroundColor: 'orange'` - цвет самой точки
* `pointBorderWidth: 10` - радиус (ширина) рамки вокруг точки на графике
* `pointRadius: 10` - радиус (ширина) самой точки на графике
* `pointHoverRadius: 20` - устанавливает размер самой точки (не рамки) в состоянии `hover`
* `pointHitRadius: 20` - определяет расстояние, с которого точки на графике начнут взаимодействие с мышкой

### Столбчатая диаграмма

#### Инициализация

При инициализации `Chart` с помощью `new`:
* `bar` - столбчатая вертикальная диаграмма
* `horizontalBar` - столбчатая горизонтальная диаграмма

#### Настройки в объекте с данными графика

* `hoverBackgroundColor: 'maroon'` - изменение заливки столбца в состоянии `hover`
* `hoverBorderColor: 'olive'` - изменение заливки рамки у столбца в состоянии `hover`
* `borderSkipped: 'top'` - для указанной стороны столбца бибилиотека не будет рисовать границу
* 

#### Настройки в объекте с опциями для всех графиков диаграммы

Общие настройки для всех графиков на диаграмме задаются в объекте с опциями, например: 

```javascript
var chartOptions = {
  legend: {
    display: true,
    position: 'bottom',
    labels: {
      boxWidth: 80,
      fontColor: 'orange'
    }
  },
  scales: {
    xAxes: [{
      barPercentage: 1
    }]
  }
}
```

Объект `scales` содержит настройки для оси Х (объект `xAxes`) и оси Y (объект `yAxes`):

* `barPercentage: 1` - определяет толщину отступа между столбцами на диаграмме в процентах от доступной ширины для группы, где `1` - отступ отсутствует, а `0` - большой отступ (значение по-умолчанию `0.5`) 
* `barThickness: 100` - настройка толщины столбцов в `px`
* `display: false` - скрывает отображение оси диаграммы

##### Две оси Y

Можно сделать графики из несколько наборов данных на одной и той же диаграмме, присвоив `id` (идентификатор) определенной оси конкретному набору данных:

```javascript
var chart1 = {
  /* настройки */
  yAxisID: 'y-chart1'
}

var chart2 = {
  /* настройки */
  yAxisID: 'y-chart2'
}
```

Затем необходимо определить эти `id` в объекте необходимой оси:

```javascript
scales: {
    yAxes: [{
        id: 'y-chart1'
    }, {
        id: 'y-chart2'
    }]
}
```

### Радиальная диаграмма

#### Инициализация

При инициализации `Chart` с помощью `new`:
* `radar` - радиальная диаграмма

#### Настройки в объекте с опциями для всех графиков диаграммы

```javascript
scale: {
    ticks: {
        beginAtZero: true,
        min: 20,
        max: 100,
        stepSize: 20
    },
    pointLabels: {
        fontSize: 24
    }
}
```

Объект `scale` может содержать в себе объект `ticks` со следующими настройками:  

- `beginAtZero: true` - 
- `min: 20` - устанавливает минимальное значение шкалы
- `max: 100` -  устанавливает максимальное значение шкалы
- `stepSize: 20` - размер "шага" диаграммы

Объект `scale` может содержать в себе объект `pointLabels` со следующими настройками:  

- `fontSize: 24` - определяет размер шрифта для подписей в `labels`

### Полярная диаграмма

#### Инициализация

При инициализации `Chart` с помощью `new`:
* `polarArea` - полярная диаграмма

#### Настройки в объекте с данными графика

В полярное диаграмме объект с данными графика создается следующим образом:

```javascript
var birdsData = {
  labels: ["Spring", "Summer", "Fall", "Winter"],
  datasets: [{
    data: [1200, 1700, 800, 200],
    backgroundColor: [
      "rgba(255, 0, 0, 0.6)",
      "rgba(0, 255,200, 0.6)",
      "rgba(200, 0, 200, 0.6)",
      "rgba(0, 255, 0, 0.6)"
    ],
    borderColor: "rgba(0, 0, 0, 0.8)"
  }]
};
```

#### Настройки в объекте с опциями для всех графиков диаграммы

```javascript
animation: {
    * настройки */
},
startAngle: -Math.PI / 4
```

Объект с опциями содержит объект `animation`, который в свою очередь может содержать в себе объект `animation` со следующими настройками:  

* `animateRotate: false` - управляет анимацией вращения диаграммы из центра, по-умолчанию значение `true`
* `animateScale: true` - управляет анимацией масштабирования диаграммы из центра, по-умолчанию значение `false`

Так же объект с опциями может содержать следующие настройки:

* `startAngle: -Math.PI / 4` - устанавливает начальный угол для первого значения в наборе данных

### Круговая и кольцевая диаграммы

#### Инициализация

При инициализации `Chart` с помощью `new`:
* `pie` - круговая диаграмма
* `doughnut` - кольцевая диаграмма

#### Настройки в объекте с данными графика

```javascript
var oilData = {
    labels: [
        "Saudi Arabia",
        "Russia",
        "Iraq",
    ],
    datasets: [
        {
            data: [133.3, 86.2, 52.2, 51.2, 50.2],
            backgroundColor: [
                "#FF6384",
                "#63FF84",
                "#84FF63"
            ],
            borderColor: "black"
        }]
};
```

#### Настройки в объекте с опциями для всех графиков диаграммы

Объект с опциями может содержать следующие настройки:

* `rotation: 180` - устанавливает начальную точку (в данном примере это `180` градусов по часовой стрелке)
* `cutoutPercentage: 20` - определяет процентную долю графика, вырезанного из середины (по-умолчанию значения `50` для `doughnut` и `0` для `pie`)
* `circumference: 5` - устанавливает угол, который будет прорисовываться диаграммой при построении графика с помощью ключа

### Пузырьковая диаграмма

Объект данных должен иметь следующий интерфейс, чтобы его можно было правильно построить.

```javascript
{
    x: <Number>,
    y: <Number>,
    r: <Number>
}
```

#### Инициализация

При инициализации `Chart` с помощью `new`:
* `bubble` - пузырьковая диаграмма

#### Настройки в объекте с данными графика

```javascript
var speedData = {
  datasets: [{
    label: ['Deer Population'],
    data: [{
      x: 100,
      y: 0,
      r: 10
    }, {
      x: 60,
      y: 30,
      r: 20
    }, {
      x: 40,
      y: 60,
      r: 25
    }, {
      x: 80,
      y: 80,
      r: 50
    }, {
      x: 20,
      y: 30,
      r: 25
    }, {
      x: 0,
      y: 100,
      r: 5
    }],
    backgroundColor: "#FF9966"
  }]
};
```

## Практика

## Другое